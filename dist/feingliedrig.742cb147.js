!function(){const e=document.getElementById("base-content"),t=document.getElementById("fold-wrapper");document.getElementById("btn-debug").addEventListener("click",(()=>{document.body.classList.toggle("debug")}));let s,l={scroll:0,targetScroll:0,progress:0,targetProgress:0,disposed:!1};class o{constructor(e,t=null){this.wrapper=e,this.folds=t,this.centerHeight=0}createFold(e="center",t=0){const s=document.createElement("div");switch(s.classList.add("fold"),e){case"before":s.classList.add("fold-before"),s.classList.add("fold-before-"+t);break;case"after":s.classList.add("fold-after"),s.classList.add("fold-after-"+t);break;default:s.classList.add("fold-middle")}const l=this.baseContent.cloneNode(!0);l.classList.remove("base-content"),l.id="";const o=document.createElement("div");return o.classList.add("fold-scroller"),o.append(l),s.append(o),s}generateSide(e,t,s){const l=this.createFold(0,0),o=[],r=[];for(let e=0;e<t;e++)o.push(this.createFold("before",e+1)),r.push(this.createFold("after",e+1));let d=o.reverse().concat(l).concat(r);const n=document.createElement("div");return n.classList.add("wrapper-3d"),n.classList.add("side-"+s),d.forEach((e=>{n.append(e)})),this.wrapper.append(n),{folds:d,wrapper:n}}generateFolds(e,t){this.baseContent=e;const s=this.generateSide(e,1,"left"),l=this.generateSide(e,1,"right");this.centerFold=l.folds[Math.floor(s.folds.length/2)],this.leftFolds=s,this.rightFolds=l}updateStyles(e){let t=this.leftFolds.folds,s=this.rightFolds.folds,l=Math.floor(t.length/2),o=-100*l;for(let r=0;r<t.length;r++){let d=t[r],n=s[r];const a=r-l;let c=0,i=o-100*a+100+"%";a>0&&(c+=-this.centerFold.offsetHeight,i=`${c}px`),d.children[0].style.transform=`translateY(${i})`,d.children[0].children[0].style.transform=`translateY(${e}px)`,n.children[0].style.transform=`translate(-50%, ${i})`,n.children[0].children[0].style.transform=`translateY(${e}px)`}}}let r=()=>{if(l.disposed)return;document.body.style.height=s.centerFold.children[0].children[0].clientHeight+-s.centerFold.clientHeight+window.innerHeight+"px",l.targetScroll=-(document.documentElement.scrollTop||document.body.scrollTop),l.scroll+=function(e,t,s=.1,l=.001){let o=(t-e)*s;return Math.abs(o)<l&&(o=t-e),o}(l.scroll,l.targetScroll,.1,1e-4);let t=l.scroll;s.updateStyles(t+e.offsetTop),requestAnimationFrame(r)};new Promise(((e,t)=>e())).then((()=>{document.body.classList.remove("loading"),s=new o(t);s.generateFolds(e,1),r()}))}();
//# sourceMappingURL=feingliedrig.742cb147.js.map
